<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
		<meta http-equiv="Pragma" content="no-cache"/>
		<meta http-equiv="Expires" content="-1" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<meta name="viewport"content="width=device-width" />
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0">		
        <title>Prototype</title>

                <link rel="stylesheet" type="text/css" href="styles/reset.css?v=2.77324" />
        <link rel="stylesheet" type="text/css" href="styles/layout.css?v=2.77324" />
		<link rel="stylesheet" type="text/css" href="styles/style.css?v=2.77324" />
		<link rel="stylesheet" type="text/css" href="styles/hubPage.css?v=2.77324" />
		<link rel="stylesheet" type="text/css" href="styles/nowPlayingTray.css?v=2.77324" />
		<link rel="stylesheet" type="text/css" href="styles/fonts.css?v=2.77324" />
		<link rel="stylesheet" type="text/css" href="styles/myDash.css?v=2.77324" />
		<link rel="stylesheet" type="text/css" href="styles/appBar.css?v=2.77324" />	
		<link rel="stylesheet" type="text/css" href="styles/utilityBar.css?v=2.77324" />		
		<link rel="stylesheet" type="text/css" href="styles/controller.css?v=2.77324" />		
		<link rel="stylesheet" type="text/css" href="styles/appCanvas.css?v=2.77324" />
		<link rel="stylesheet" type="text/css" href="styles/catalog.css?v=2.77324" />	 
		<link rel="stylesheet" type="text/css" href="styles/epg.css?v=2.77324" />	
		<link rel="stylesheet" type="text/css" href="styles/myDash.css?v=2.77324" />			
		<link rel="stylesheet" type="text/css" href="styles/navigationDrawer.css?v=2.77324" />			
		<link rel="stylesheet" type="text/css" href="styles/companion.css?v=2.77324" />
		<link rel="stylesheet" type="text/css" href="styles/activityPage.css?v=2.77324" />			
	
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
		<script src="scripts/jquery.hammer.js"></script>

</head>
<body>
	<div id="body" class="overflow-hidden">


		<div id="controller" class="line controller">
			<div class="line controllerToolbar">
				<button class="unit controllerSwitchButton"></button> 
				<button class="unitRight controllerCloserButton"></button>
			</div>
			<div id="controllerMainButtons" class="line controllerMainButtons">

				<div class="unit size1of3"><button class="unitRight controllerIconOneButton"></button></div>
				<div class="unit size1of3 text-center"><button class="controllerZenonButton"></button></div>
				<div class="lastUnit"><button class="unit controllerIconTwoButton"></button></div>

			</div>

			<div id="controllerGestureArea" class="line controllerGestureArea" style="height: 250px;">
				
			</div>

			<div class="line controllerBottomDrawer">
			
				<div class="line controllerBottomDrawerKnob"><button class="unitRight controllerBottomDrawerKnobButton"></button></div>
				
				<div class="line controllerSearchBox centered">
					<!--<form><input type="text" name="url" /></form>-->
				</div>

				<div class="line">		
					<div class="unit size1of2 controllerLikeIcon"><button class="unitRight controllerLikeIconButton"></button></div>
					<div class="lastUnit controllerDownloadIcon"><button class="unit controllerDownloadIconButton"></button></div>
				</div>

			</div>
		</div>


	</div><!-- body -->


<script>
 $(document).ready(function() {

 	$(document).bind("touchmove", function(e) { e.preventDefault(); });

	// when touching before releasing for a set amount of time
    var holding = false;

    $("#controllerGestureArea").hammer().bind("hold touchend mouseup", function(event) {
        if(event.type === 'hold'){
            
            holding = true;
            console.log("holding");

	        $(".controllerBottomDrawer").toggleClass("closed");
	        $("#controllerMainButtons").animate({opacity: .25,}, 250, function() {
			    //completion code?
			});

        }
        if(event.type === 'touchend' || event.type === 'mouseup'){
            if(holding){

                holding = false;
                release(event);
            }
        }
    });

    function release(event){
    	setTimeout(function() {
	    	$(".controllerBottomDrawer").toggleClass("closed");
	    }, 750);
    	$("#controllerMainButtons").animate({opacity: 1.0,}, 375, function() {
	    //completion code?
	  });
    }

    // while dragging finger over the Surface
    $("#controllerGestureArea").hammer().on("dragstart", function(event) {
        console.log("dragging (start)");
        $(".controllerBottomDrawer").toggleClass("closed");
        $("#controllerMainButtons").animate({opacity: .25,}, 250, function() {
		    //completion code?
		  });
    });
    $("#controllerGestureArea").hammer().on("dragend", function(event) {
        console.log("drag end");
        setTimeout(function() {
	    	$(".controllerBottomDrawer").toggleClass("closed");
	    }, 750);
        $("#controllerMainButtons").animate({opacity: 1,}, 375, function() {
		    //completion code?
		  });
        
    });

 	// tap / click
	$("#controllerGestureArea").hammer().on("tap", function(event) {
        alert("This is what a single tap is");
        console.log("tap");
    });

});

</script>


</body>
</html>